/************************************************************
 * Texts_Eligibility.gs â€” GLOBAL ELIGIBILITY & NOTICES
 * Used across ALL flows (A, B, C, ExistingCase, Updates)
 *
 * âš ï¸ NO TEXT IN THIS BLOCK.
 * Actual text will be inserted in Block 2 & 3.
 ************************************************************/

const Texts_Eligibility = {

  /************************************************************
   * ðŸŒ Utility: Build multi-language message set
   ************************************************************/
  _set(en, ur, rur, hi, bn, ar) {
    return {
      ENGLISH: en,
      URDU: ur,
      ROMAN_URDU: rur,
      HINDI: hi,
      BANGLA: bn,
      ARABIC: ar,
    };
  },

  /************************************************************
   * ðŸ”¹ Invalid option (menu selection)
   ************************************************************/
  getInvalidOption() {
    return this._INVALID_OPTION;
  },

  /************************************************************
   * ðŸ”¹ Please type a number (digits only)
   ************************************************************/
  getInvalidNumber() {
    return this._INVALID_NUMBER;
  },

  /************************************************************
   * ðŸ”¹ Unexpected keywords (HELP, MENU, START etc.)
   ************************************************************/
  getUnexpectedKeyword() {
    return this._UNEXPECTED_KEYWORD;
  },

  /************************************************************
   * ðŸ”¹ Please answer YES/NO type questions
   ************************************************************/
  getYesNoValidation() {
    return this._YES_NO_VALIDATION;
  },

  /************************************************************
   * ðŸ”¹ Session Expired / Long Delay handling
   ************************************************************/
  getSessionExpired() {
    return this._SESSION_EXPIRED;
  },

  /************************************************************
   * ðŸ”¹ "Are you done?" multi-reply timeout logic
   ************************************************************/
  getAreYouDonePrompt() {
    return this._ARE_YOU_DONE;
  },

  /************************************************************
   * ðŸ”¹ INTERNAL STORAGE (Populated in Block 2 & 3)
   ************************************************************/
  _INVALID_OPTION: null,
  _INVALID_NUMBER: null,
  _UNEXPECTED_KEYWORD: null,
  _YES_NO_VALIDATION: null,
  _SESSION_EXPIRED: null,
  _ARE_YOU_DONE: null,

};
/************************************************************
 * Texts_Eligibility.gs â€” BLOCK 3/3
 * Keyword detection groups & regex patterns
 ************************************************************/

Object.assign(Texts_Eligibility, {

  /************************************************************
   * KEYWORD GROUPS â€” GLOBAL (All Flows A/B/C)
   ************************************************************/

  /** HELP-related terms */
  HELP_KEYWORDS: [
    "help",
    "help me",
    "assist",
    "support",
    "madad",
    "Ù…Ø¯Ø¯",
    "sos",
    "guide",
    "guidance"
  ],

  /** MENU-related terms (User trying to escape current step) */
  MENU_KEYWORDS: [
    "menu",
    "options",
    "show menu",
    "list",
    "choice",
    "choices",
    "meneu",   // common typo
    "option",
    "opt"
  ],

  /** START / RESET / RESTART **/
  START_KEYWORDS: [
    "start",
    "restart",
    "reset",
    "again",
    "dobara",
    "Ø¯ÙˆØ¨Ø§Ø±Û",
    "shuru",
    "Ø´Ø±ÙˆØ¹",
    "new",
    "fresh"
  ],

  /** Greetings (ignored inside question flow) */
  GREETING_KEYWORDS: [
    "hi",
    "hello",
    "salam",
    "salaam",
    "assalamualaikum",
    "asalamualaikum",
    "aslm",
    "slm",
    "Ø³Ù„Ø§Ù…",
    "Ø§Ù„Ø³Ù„Ø§Ù… Ø¹Ù„ÛŒÚ©Ù…"
  ],

  /** STOP / CANCEL */
  CANCEL_KEYWORDS: [
    "cancel",
    "stop",
    "band",
    "roko",
    "mat karo",
    "abort"
  ],

  /************************************************************
   * YES/NO patterns for validation
   ************************************************************/
  YES_KEYWORDS: [
    "yes", "haan", "han", "ha", "Ø¬ÛŒ", "Ø¬ÛŒ ÛØ§Úº",
    "à¤¹à¤¾à¤", "à¦¹à§à¦¯à¦¾à¦", "Ù†Ø¹Ù…", "na3am"
  ],

  NO_KEYWORDS: [
    "no", "nahi", "nahe", "nah", "Ù†ÛÛŒÚº",
    "à¤¨à¤¹à¥€à¤‚", "à¦¨à¦¾", "Ù„Ø§"
  ],

  /** Quick boolean converters */
  isYes(text) {
    text = (text || "").toLowerCase().trim();
    return this.YES_KEYWORDS.some(k => text.includes(k));
  },

  isNo(text) {
    text = (text || "").toLowerCase().trim();
    return this.NO_KEYWORDS.some(k => text.includes(k));
  },

  /************************************************************
   * NUMBER / DIGIT VALIDATION
   ************************************************************/
  ONLY_DIGITS_REGEX: /^[0-9]+$/,

  isNumber(text) {
    return this.ONLY_DIGITS_REGEX.test((text || "").trim());
  },

  /************************************************************
   * UNEXPECTED KEYWORD CHECKER
   ************************************************************/
  isUnexpectedKeyword(text) {
    if (!text) return false;

    const t = text.toLowerCase().trim();

    return (
      this.HELP_KEYWORDS.includes(t) ||
      this.MENU_KEYWORDS.includes(t) ||
      this.START_KEYWORDS.includes(t) ||
      this.GREETING_KEYWORDS.includes(t) ||
      this.CANCEL_KEYWORDS.includes(t)
    );
  }

});
